@using System.Security.Claims
<nav class="nav-panel nav-panel_closed background_dark padding-horizontal">
    <div class="nav-panel__section">
        <ul class="links-list nav-panel__links-list">
            <li>
                <a class="link" asp-area="" asp-controller="Home" asp-action="Index">
                    Главная
                </a>
            </li>
            <li>
                <a class="link" asp-area="" asp-controller="Articles" asp-action="Index">
                    Доказательства и теории
                </a>
            </li>
            <li>
                <a class="link" asp-area="" asp-controller="Articles"
                   asp-action="AllAboutAvoska">
                    Все об Авоське
                </a>
            </li>
            <li>
                <a class="link" asp-area="" asp-controller="Home" asp-action="Contact">
                    Связаться с нами
                </a>
            </li>
        </ul>
    </div>
    @if (this.User.Identity != null && this.User.Identity.IsAuthenticated)
    {
        <div class="nav-panel__section">
            <div class="nav-panel__hor-line"></div>
            <ul class="links-list nav-panel__links-list">
                <li><a class="link" asp-area="" asp-controller="Users" asp-action="Index">
                    Ваш профиль</a></li>
                <li><a class="link" asp-area="moderator" asp-controller="Articles" asp-action="List">
                    Управление статьями</a></li>
            </ul>
        </div>
    }
    @{
        // Меню админа
        /*var roles = User.Claims;
        <ul>
            @foreach (var role in roles)
            {
                <li>@role</li>
            }
        </ul>*/
        var roles = User.FindAll(ClaimsIdentity.DefaultRoleClaimType);
        if (roles.Any(role => role.Value == "admin"))
        {
            <div class="nav-panel__section">
                <div class="nav-panel__hor-line"></div>
                <ul class="links-list nav-panel__links-list">
                    <li><a class="link" asp-area="admin" asp-controller="Users" asp-action="Index">Управление аккаунтами</a></li>
                    <li><a class="link" asp-area="admin" asp-controller="TextFields" asp-action="Index">Управление контентом страниц</a></li>
                </ul>
            </div>
        }
    }
</nav>