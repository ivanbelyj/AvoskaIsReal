function onClick(){burger.toggleClass("burger_closed");navPanel.toggleClass("nav-panel_closed");button.toggleClass("nav-panel__button_opened");body.css("overflow")=="hidden"?body.css({overflow:overflowLastValue}):(overflowLastValue=body.css("overflow"),body.css({overflow:"hidden"}))}$(function(){limitedTexts=Array.from($(".limited-text")).map(n=>new LimitedText($(n),symbolsCountLimit))});const symbolsCountLimit=160;let limitedTexts;class LimitedText{constructor(n,t){this.element=n;this.maxSymbolsCount=t;this.update()}addExpandButton(){if(!this.expandButton){this.expandButton=$("<div>").text("Развернуть").addClass("limited-text__button");this.expandButton.click(function(){});this.expandButton.appendTo(this.element);const n=this.toggle.bind(this);this.expandButton.click(function(){n()})}}removeExpandButton(){this.expandButton.remove();this.expandButton=null}update(){if(this.contentElement=this.element.find(".limited-text__content"),this.initialText=this.contentElement.text().trim(),this.initialText.length>this.maxSymbolsCount)this.addExpandButton();else return;this.limitedText=this.getLimitedString(this.initialText);console.log(this.limitedText,this.initialText);this.contentElement.text(this.limitedText);this.isExpanded=!1}getLimitedString(n){if(this.maxSymbolsCount<4)return"...";return n.slice(0,this.maxSymbolsCount-3)+"..."}toggle(){this.contentElement.text(this.isExpanded?this.limitedText:this.initialText);this.isExpanded=!this.isExpanded;this.expandButton.text(this.isExpanded?"Свернуть":"Развернуть")}}$(function(){navPanel=$(".nav-panel");button=$(".nav-panel__button");burger=$(".nav-panel__burger");body=$(".body");button.click(onClick)});let navPanel,button,burger,body,overflowLastValue;